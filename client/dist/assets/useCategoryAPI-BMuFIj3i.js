import{r as g,Y as n,A as u,Q as r}from"./index-D5CrZEbk.js";const T=()=>{const[y,p]=g.useState([]),[m,h]=g.useState(""),[l,d]=g.useState({upload:!1,value:0}),[f,A]=g.useState({}),[P,$]=g.useState([]);return{CreateCategoryAPI:async({category:t,image:e,token:a})=>{try{if(!t||!a)return;const o=new FormData;o.append("category",t),o.append("image",e),await n.post(`${u}/v1/category/create`,o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}}).then(s=>{s?.data?.success&&r.success(s?.data?.message)}).catch(s=>{s.response?r.error(s?.response?.data?.message):r.error(s?.message)})}catch(o){console.error(o)}},Categories:y,setCategories:p,GetCategoriesAPI:async({token:t})=>{try{if(!t)return;await n.get(`${u}/v1/category/admin/categories`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e?.data?.success&&p(e?.data?.result)}).catch(e=>{e.response?r.error(e?.response?.data?.message):r.error(e?.message)})}catch(e){console.error(e)}},CreateSubCategoryAPI:async({categoryId:t,token:e,Image:a,name:o,description:s})=>{try{if(!o||!t||!e)return;const c=new FormData;c.append("name",o),c.append("description",s),c.append("image",a),await n.post(`${u}/v1/category/create-subcategory/${t}`,c,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}}).then(i=>{i?.data?.success&&r.success(i?.data?.message)}).catch(i=>{i.response?r.error(i?.response?.data?.message):r.error(i?.message)})}catch(c){console.error(c)}},DeleteCategoryAPI:async({id:t,token:e})=>{try{if(!t||!e)return;await n.delete(`${u}/v1/category/delete/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(a=>{a?.data?.success&&r.success(a?.data?.message)}).catch(a=>{a.response?r.error(a?.response?.data?.message):r.error(a?.message)})}catch(a){console.error(a)}},DeleteSubCategoryAPI:async({id:t,token:e})=>{try{if(!t||!e)return;await n.delete(`${u}/v1/category/delete/sub-category/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(a=>{a?.data?.success&&r.success(a?.data?.message)}).catch(a=>{a.response?r.error(a?.response?.data?.message):r.error(a?.message)})}catch(a){console.error(a)}},UpdateCategoryAPI:async({id:t,category:e,image:a,token:o})=>{try{if(!t||!e||!o)return;const s=new FormData;s.append("category",e),s.append("image",a),await n.put(`${u}/v1/category/update/${t}`,s,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}).then(c=>{c?.data?.success&&r.success(c?.data?.message)}).catch(c=>{c.response?r.error(c?.response?.data?.message):r.error(c?.message)})}catch(s){console.error(s)}},UpdateActiveSubcategoryAPI:async({id:t,token:e,active:a})=>{try{if(!t&&!e&&a)return;const o=new FormData;o.append("active",a),await n.put(`${u}/v1/category/active/subcategory/${t}`,o,{headers:{Authorization:`Bearer ${e}`}}).then(s=>{s?.data?.success&&r.success(s?.data?.message)}).catch(s=>{s.response?r.error(s?.response?.data?.message):r.error(s?.message)})}catch(o){console.error(o)}},UploadVideoAPI:async({video:t,token:e,id:a})=>{d({upload:!0,value:0});try{if(!t||!e||!a)return;const o=new FormData;o.append("video",t),await n.put(`${u}/v1/category/admin/subcategory/upload-video/${a}`,o,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"},onUploadProgress:s=>{const c=Math.round(s.loaded*100/s.total);d({upload:!0,value:c})}}).then(s=>{s?.data?.success&&r.success(s?.data?.message)}).catch(s=>{s.response?r.error(s?.response?.data?.message):r.error(s?.message)})}catch(o){console.error(o)}d({upload:!1,value:0})},SubCategoryName:m,GetSubCategoryNameAPI:async({token:t,id:e})=>{try{if(!t||!e)return;await n.get(`${u}/v1/category/admin/subcategory/name/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{a?.data?.success&&h(a?.data?.result)}).catch(a=>{a.response?r.error(a?.response?.data?.message):r.error(a?.message)})}catch(a){console.error(a)}},Progress:l,DeleteVideoAPI:async({token:t,id:e})=>{try{if(!e||!t)return;await n.delete(`${u}/v1/category/delete-video-by-subcategory/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{a?.data?.success&&r.success(a?.data?.message)}).catch(a=>{a.response?r.error(a?.response?.data?.message):r.error(a?.message)})}catch(a){console.error(a)}},GetPageSetupDataAPI:async({token:t})=>{try{if(!t)return;await n.get(`${u}/v1/page-setup/data`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e?.data?.success&&A(e?.data?.result)}).catch(e=>{e.response?r.error(e?.response?.data?.message):r.error(e?.message)})}catch(e){console.error(e)}},PageSetupData:f,subcategories:P,GetSubCategoriesAPI:async({token:t})=>{try{if(!t)return;await n.get(`${u}/v1/category/admin/subcategories`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e?.data?.success&&$(e?.data?.result)}).catch(e=>{e.response?r.error(e?.response?.data?.message):r.error(e?.message)})}catch(e){console.error(e)}}}};export{T as u};
