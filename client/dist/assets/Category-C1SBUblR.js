import{r as c,Z as A,_ as O,$ as G,a0 as U,a1 as P,a2 as w,R as g,a3 as V,a4 as Ve,a5 as He,a6 as X,a7 as _e,a8 as Ne,a9 as Ye,aa as Ce,ab as Ee,ac as qe,ad as B,ae as Q,af as z,ag as L,ah as E,ai as Ke,aj as xe,ak as fe,al as Ze,am as $e,an as N,ao as Je,ap as ke,aq as Xe,ar as ge,as as Se,at as Fe,au as he,av as Qe,aw as M,ax as We,ay as et,az as tt,aA as at,aB as rt,aC as st,aD as nt,aE as lt,aF as it,aG as ve,aH as ot,aI as dt,aJ as ct,aK as ye,G as ee,u as H,j as e,Q as te,A as ae,L as ut,K as mt}from"./index-HLy2gBXm.js";import{u as _}from"./useCategoryAPI-DUkGMT-3.js";import{B as Ae}from"./index-is5TRwCY.js";import{A as pt}from"./index-06m2UaTs.js";let xt=c.createContext(void 0);function ft(){return c.useContext(xt)}let re=c.createContext(null);re.displayName="DescriptionContext";function Ie(){let t=c.useContext(re);if(t===null){let a=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,Ie),a}return t}function gt(){let[t,a]=c.useState([]);return[t.length>0?t.join(" "):void 0,c.useMemo(()=>function(r){let s=w(i=>(a(o=>[...o,i]),()=>a(o=>{let n=o.slice(),d=n.indexOf(i);return d!==-1&&n.splice(d,1),n}))),l=c.useMemo(()=>({register:s,slot:r.slot,name:r.name,props:r.props,value:r.value}),[s,r.slot,r.name,r.props,r.value]);return g.createElement(re.Provider,{value:l},r.children)},[a])]}let ht="p";function vt(t,a){let r=c.useId(),s=ft(),{id:l=`headlessui-description-${r}`,...i}=t,o=Ie(),n=O(a);G(()=>o.register(l),[l,o.register]);let d=U({...o.slot,disabled:s||!1}),u={ref:n,...o.props,id:l};return P()({ourProps:u,theirProps:i,slot:d,defaultTag:ht,name:o.name||"Description"})}let yt=A(vt),bt=Object.assign(yt,{}),W=new Map,T=new Map;function be(t){var a;let r=(a=T.get(t))!=null?a:0;return T.set(t,r+1),r!==0?()=>je(t):(W.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>je(t))}function je(t){var a;let r=(a=T.get(t))!=null?a:1;if(r===1?T.delete(t):T.set(t,r-1),r!==1)return;let s=W.get(t);s&&(s["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",s["aria-hidden"]),t.inert=s.inert,W.delete(t))}function jt(t,{allowed:a,disallowed:r}={}){let s=V(t,"inert-others");G(()=>{var l,i;if(!s)return;let o=Ve();for(let d of(l=r?.())!=null?l:[])d&&o.add(be(d));let n=(i=a?.())!=null?i:[];for(let d of n){if(!d)continue;let u=He(d);if(!u)continue;let p=d.parentElement;for(;p&&p!==u.body;){for(let v of p.children)n.some(x=>v.contains(x))||o.add(be(v));p=p.parentElement}}return o.dispose},[s,a,r])}function se(t,a){let r=c.useRef([]),s=w(t);c.useEffect(()=>{let l=[...r.current];for(let[i,o]of a.entries())if(r.current[i]!==o){let n=s(a,l);return r.current=a,n}},[s,...a])}function wt(t){function a(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",a))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",a),a())}let $=[];wt(()=>{function t(a){if(!X(a.target)||a.target===document.body||$[0]===a.target)return;let r=a.target;r=r.closest(_e),$.unshift(r??a.target),$=$.filter(s=>s!=null&&s.isConnected),$.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Nt(t,a=typeof document<"u"?document.defaultView:null,r){let s=V(t,"escape");Ne(a,"keydown",l=>{s&&(l.defaultPrevented||l.key===Ye.Escape&&r(l))})}function Ct(){var t;let[a]=c.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,s]=c.useState((t=a?.matches)!=null?t:!1);return G(()=>{if(!a)return;function l(i){s(i.matches)}return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[a]),r}function De(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let a=new Set;for(let r of t.current)Je(r.current)&&a.add(r.current);return a}let Et="div";var F=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(F||{});function $t(t,a){let r=c.useRef(null),s=O(r,a),{initialFocus:l,initialFocusFallback:i,containers:o,features:n=15,...d}=t;Ce()||(n=0);let u=Ee(r.current);At(n,{ownerDocument:u});let p=It(n,{ownerDocument:u,container:r,initialFocus:l,initialFocusFallback:i});Dt(n,{ownerDocument:u,container:r,containers:o,previousActiveElement:p});let v=qe(),x=w(y=>{if(!B(r.current))return;let S=r.current;(b=>b())(()=>{Q(v.current,{[z.Forwards]:()=>{L(S,E.First,{skipElements:[y.relatedTarget,i]})},[z.Backwards]:()=>{L(S,E.Last,{skipElements:[y.relatedTarget,i]})}})})}),f=V(!!(n&2),"focus-trap#tab-lock"),m=Ke(),j=c.useRef(!1),k={ref:s,onKeyDown(y){y.key=="Tab"&&(j.current=!0,m.requestAnimationFrame(()=>{j.current=!1}))},onBlur(y){if(!(n&4))return;let S=De(o);B(r.current)&&S.add(r.current);let b=y.relatedTarget;X(b)&&b.dataset.headlessuiFocusGuard!=="true"&&(Pe(S,b)||(j.current?L(r.current,Q(v.current,{[z.Forwards]:()=>E.Next,[z.Backwards]:()=>E.Previous})|E.WrapAround,{relativeTo:y.target}):X(y.target)&&N(y.target)))}},C=P();return g.createElement(g.Fragment,null,f&&g.createElement(xe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:fe.Focusable}),C({ourProps:k,theirProps:d,defaultTag:Et,name:"FocusTrap"}),f&&g.createElement(xe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:fe.Focusable}))}let kt=A($t),St=Object.assign(kt,{features:F});function Ft(t=!0){let a=c.useRef($.slice());return se(([r],[s])=>{s===!0&&r===!1&&ke(()=>{a.current.splice(0)}),s===!1&&r===!0&&(a.current=$.slice())},[t,$,a]),w(()=>{var r;return(r=a.current.find(s=>s!=null&&s.isConnected))!=null?r:null})}function At(t,{ownerDocument:a}){let r=!!(t&8),s=Ft(r);se(()=>{r||Xe(a?.body)&&N(s())},[r]),Ze(()=>{r&&N(s())})}function It(t,{ownerDocument:a,container:r,initialFocus:s,initialFocusFallback:l}){let i=c.useRef(null),o=V(!!(t&1),"focus-trap#initial-focus"),n=$e();return se(()=>{if(t===0)return;if(!o){l!=null&&l.current&&N(l.current);return}let d=r.current;d&&ke(()=>{if(!n.current)return;let u=a?.activeElement;if(s!=null&&s.current){if(s?.current===u){i.current=u;return}}else if(d.contains(u)){i.current=u;return}if(s!=null&&s.current)N(s.current);else{if(t&16){if(L(d,E.First|E.AutoFocus)!==ge.Error)return}else if(L(d,E.First)!==ge.Error)return;if(l!=null&&l.current&&(N(l.current),a?.activeElement===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=a?.activeElement})},[l,o,t]),i}function Dt(t,{ownerDocument:a,container:r,containers:s,previousActiveElement:l}){let i=$e(),o=!!(t&4);Ne(a?.defaultView,"focus",n=>{if(!o||!i.current)return;let d=De(s);B(r.current)&&d.add(r.current);let u=l.current;if(!u)return;let p=n.target;B(p)?Pe(d,p)?(l.current=p,N(p)):(n.preventDefault(),n.stopPropagation(),N(u)):N(l.current)},!0)}function Pe(t,a){for(let r of t)if(r.contains(a))return!0;return!1}var Pt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Pt||{}),Rt=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Rt||{});let Lt={0(t,a){return t.titleId===a.id?t:{...t,titleId:a.id}}},ne=c.createContext(null);ne.displayName="DialogContext";function Y(t){let a=c.useContext(ne);if(a===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Y),r}return a}function Tt(t,a){return Q(a.type,Lt,t,a)}let we=A(function(t,a){let r=c.useId(),{id:s=`headlessui-dialog-${r}`,open:l,onClose:i,initialFocus:o,role:n="dialog",autoFocus:d=!0,__demoMode:u=!1,unmount:p=!1,...v}=t,x=c.useRef(!1);n=(function(){return n==="dialog"||n==="alertdialog"?n:(x.current||(x.current=!0,console.warn(`Invalid role [${n}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let f=Fe();l===void 0&&f!==null&&(l=(f&M.Open)===M.Open);let m=c.useRef(null),j=O(m,a),k=Ee(m.current),C=l?0:1,[y,S]=c.useReducer(Tt,{titleId:null,descriptionId:null,panelRef:c.createRef()}),b=w(()=>i(!1)),de=w(h=>S({type:0,id:h})),I=Ce()?C===0:!1,[Re,Le]=We(),Te={get current(){var h;return(h=y.panelRef.current)!=null?h:m.current}},Z=et(),{resolveContainers:J}=tt({mainTreeNode:Z,portals:Re,defaultContainers:[Te]}),ce=f!==null?(f&M.Closing)===M.Closing:!1;jt(u||ce?!1:I,{allowed:w(()=>{var h,pe;return[(pe=(h=m.current)==null?void 0:h.closest("[data-headlessui-portal]"))!=null?pe:null]}),disallowed:w(()=>{var h;return[(h=Z?.closest("body > *:not(#headlessui-portal-root)"))!=null?h:null]})});let D=at.get(null);G(()=>{if(I)return D.actions.push(s),()=>D.actions.pop(s)},[D,s,I]);let ue=rt(D,c.useCallback(h=>D.selectors.isTop(h,s),[D,s]));st(ue,J,h=>{h.preventDefault(),b()}),Nt(ue,k?.defaultView,h=>{h.preventDefault(),h.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),b()}),nt(u||ce?!1:I,k,J),lt(I,m,b);let[Oe,Ue]=gt(),ze=c.useMemo(()=>[{dialogState:C,close:b,setTitleId:de,unmount:p},y],[C,b,de,p,y]),me=U({open:C===0}),Me={ref:j,id:s,role:n,tabIndex:-1,"aria-modal":u?void 0:C===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":Oe,unmount:p},Be=!Ct(),R=F.None;I&&!u&&(R|=F.RestoreFocus,R|=F.TabLock,d&&(R|=F.AutoFocus),Be&&(R|=F.InitialFocus));let Ge=P();return g.createElement(it,null,g.createElement(ve,{force:!0},g.createElement(ot,null,g.createElement(ne.Provider,{value:ze},g.createElement(dt,{target:m},g.createElement(ve,{force:!1},g.createElement(Ue,{slot:me},g.createElement(Le,null,g.createElement(St,{initialFocus:o,initialFocusFallback:m,containers:J,features:R},g.createElement(ct,{value:b},Ge({ourProps:Me,theirProps:v,slot:me,defaultTag:Ot,features:Ut,visible:C===0,name:"Dialog"})))))))))))}),Ot="div",Ut=ye.RenderStrategy|ye.Static;function zt(t,a){let{transition:r=!1,open:s,...l}=t,i=Fe(),o=t.hasOwnProperty("open")||i!==null,n=t.hasOwnProperty("onClose");if(!o&&!n)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!n)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(s!==void 0||r)&&!l.static?g.createElement(he,null,g.createElement(Qe,{show:s,transition:r,unmount:l.unmount},g.createElement(we,{ref:a,...l}))):g.createElement(he,null,g.createElement(we,{ref:a,open:s,...l}))}let Mt="div";function Bt(t,a){let r=c.useId(),{id:s=`headlessui-dialog-panel-${r}`,transition:l=!1,...i}=t,[{dialogState:o,unmount:n},d]=Y("Dialog.Panel"),u=O(a,d.panelRef),p=U({open:o===0}),v=w(k=>{k.stopPropagation()}),x={ref:u,id:s,onClick:v},f=l?Se:c.Fragment,m=l?{unmount:n}:{},j=P();return g.createElement(f,{...m},j({ourProps:x,theirProps:i,slot:p,defaultTag:Mt,name:"Dialog.Panel"}))}let Gt="div";function Vt(t,a){let{transition:r=!1,...s}=t,[{dialogState:l,unmount:i}]=Y("Dialog.Backdrop"),o=U({open:l===0}),n={ref:a,"aria-hidden":!0},d=r?Se:c.Fragment,u=r?{unmount:i}:{},p=P();return g.createElement(d,{...u},p({ourProps:n,theirProps:s,slot:o,defaultTag:Gt,name:"Dialog.Backdrop"}))}let Ht="h2";function _t(t,a){let r=c.useId(),{id:s=`headlessui-dialog-title-${r}`,...l}=t,[{dialogState:i,setTitleId:o}]=Y("Dialog.Title"),n=O(a);c.useEffect(()=>(o(s),()=>o(null)),[s,o]);let d=U({open:i===0}),u={ref:n,id:s};return P()({ourProps:u,theirProps:l,slot:d,defaultTag:Ht,name:"Dialog.Title"})}let Yt=A(zt),q=A(Bt),le=A(Vt),K=A(_t),ie=Object.assign(Yt,{Panel:q,Title:K,Description:bt});function oe(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function qt(t){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm120 182.15a8.62 8.62 0 0 1-8.62 8.62h-59.54a8.61 8.61 0 0 1-6.09-14.71l22.17-22.17-5.6-6.51a87.38 87.38 0 1 0-62.94 148 87.55 87.55 0 0 0 82.42-58.25A16 16 0 1 1 368 295.8a119.4 119.4 0 1 1-112.62-159.18 118.34 118.34 0 0 1 86.36 36.95l.56.62 4.31 5 14.68-14.68a8.44 8.44 0 0 1 6-2.54 8.61 8.61 0 0 1 8.68 8.63z"},child:[]}]})(t)}const Kt=({FetchData:t})=>{const[a,r]=c.useState(!1),[s,l]=c.useState({file:null,previewURL:null}),[i,o]=c.useState(""),{token:n}=H(x=>x.auth),{CreateCategoryAPI:d,GetCategoriesAPI:u}=_(),p=x=>{l({file:x,previewURL:URL.createObjectURL(x)})},v=async x=>{x.preventDefault(),i&&n?(await d({category:i,image:s?.file,token:n}),o(""),l(null),await u({token:n}),r(!1),t()):te.error("Please fill")};return e.jsx("div",{className:"AddCategory",children:e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>r(!0),className:"rounded-xl ml-auto block bg-black px-6 py-2 font-semibold text-gray-200 hover:bg-gray-800",children:"Add Category"}),e.jsxs(ie,{open:a,onClose:r,className:"relative z-10",children:[e.jsx(le,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsx(q,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95",children:e.jsx("div",{className:"bg-white p-6 relative",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx(K,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Add Category"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 cursor-pointer",onClick:()=>r(!1),children:e.jsx(oe,{className:"text-[30px]"})}),e.jsxs("form",{className:"mt-2 w-full",onSubmit:v,children:[e.jsxs("div",{className:"flex flex-col gap-4 items-center justify-center w-full h-full",children:[s?.file&&e.jsx("div",{className:"flex justify-center flex-wrap gap-4",children:e.jsxs("div",{className:"w-[120px] bg-gray-200 rounded-xl p-2",children:[e.jsx("img",{className:"rounded-lg w-full h-[120px] object-cover",src:s?.previewURL,alt:""}),e.jsx("div",{className:"text-[12px] mt-2",children:s?.file?.name.slice(0,13)}),e.jsxs("div",{className:"text-[10px] text-gray-600 mt-[2px]",children:[(s?.file?.size/(1024*1024)).toFixed(2)," kb"]}),e.jsx("button",{className:"text-center bg-red-200 text-red-500 w-full py-1 mt-2 rounded-lg",children:"Remove"})]})}),e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center text-center justify-center w-full h-full p-4 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Ae,{className:"w-8 h-8 mb-4 text-gray-500"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG (MAX. 1000x1000px)"})]}),e.jsx("input",{onChange:x=>p(x.target.files[0]),id:"dropzone-file",type:"file",className:"hidden"})]})]}),e.jsxs("div",{className:"mt-4 grid gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",maxLength:100,className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-2",value:i,onChange:x=>o(x.target.value),placeholder:"Name",required:!0})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Create Category"}),e.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",children:"Clear"})]})]})]})]})})})})})})]})]})})};function Zt(t){return ee({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Video_On"},child:[{tag:"path",attr:{d:"M21.05,5.05a1.433,1.433,0,0,0-1.48.08L16.25,7.37V6.56a2.5,2.5,0,0,0-2.5-2.5H4.69a2.5,2.5,0,0,0-2.5,2.5V17.44a2.5,2.5,0,0,0,2.5,2.5h9.06a2.5,2.5,0,0,0,2.5-2.5v-.81l3.32,2.24a1.5,1.5,0,0,0,.81.24,1.414,1.414,0,0,0,1.43-1.43V6.32A1.437,1.437,0,0,0,21.05,5.05Zm-5.8,12.39a1.5,1.5,0,0,1-1.5,1.5H4.69a1.5,1.5,0,0,1-1.5-1.5V6.56a1.5,1.5,0,0,1,1.5-1.5h9.06a1.5,1.5,0,0,1,1.5,1.5Zm5.56.24a.415.415,0,0,1-.23.38.425.425,0,0,1-.45-.02l-3.88-2.62V8.58l3.88-2.62a.425.425,0,0,1,.45-.02.415.415,0,0,1,.23.38Z"},child:[]}]}]})(t)}const Jt=({Item:t})=>{const[a,r]=c.useState(!1),[s,l]=c.useState(""),[i,o]=c.useState({name:"",description:""}),{token:n}=H(m=>m.auth),{CreateSubCategoryAPI:d,GetCategoriesAPI:u,DeleteSubCategoryAPI:p}=_(),v=()=>{o(""),l({file:null,previewURL:null})},x=async m=>{m.preventDefault(),i&&n?(await d({name:i.name,description:i.description,categoryId:t?._id,token:n,Image:s}),o(""),l({file:null,previewURL:null}),window.location.reload()):te.error("Please fill")},f=async({id:m})=>{if(window.confirm("Are you sure to delete this sub-category?"))await p({id:m,token:n});else return;await u({token:n})};return e.jsx("div",{className:"AddCategory",children:e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-green-700 text-center text-white rounded-lg hover:bg-green-500",children:"Add Sub-Category"}),e.jsxs(ie,{open:a,onClose:r,className:"relative z-10",children:[e.jsx(le,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsx(q,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95",children:e.jsx("div",{className:"bg-white p-6 relative",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx(K,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Sub-Categories"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 cursor-pointer",onClick:()=>r(!1),children:e.jsx(oe,{className:"text-[30px]"})}),e.jsx("div",{className:"mt-1 px-3",children:e.jsx("ul",{className:"text-gray-800 grid gap-1",children:t?.subcategories?.map((m,j)=>e.jsx("li",{className:"py-2 px-4 rounded-md bg-gray-200 ",children:e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("p",{className:"font-medium",children:j+1}),e.jsx("img",{className:"bg-gray-300 w-[35px] h-[35px] object-cover object-center rounded-md",src:`${ae}/image/200/${m?.image}`,alt:""}),e.jsx("p",{className:"",children:m?.name}),e.jsxs("div",{className:"ml-auto cursor-pointer  flex gap-2 items-center",children:[e.jsxs(ut,{to:`/my-admin/category/subcategory/upload-video/${m?._id}`,className:"bg-indigo-500 text-white py-1 px-3 rounded-lg flex items-center gap-2",children:[e.jsx(Zt,{className:"text-[25px] "}),"Upload Video"]}),e.jsx(pt,{className:"text-[35px] text-red-500 bg-red-200 py-1 px-2 rounded-lg",onClick:()=>f({id:m?._id})})]})]})},j))})}),e.jsx("form",{className:"w-full mt-4",onSubmit:x,onReset:v,children:e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{children:"Add New Sub-category"}),e.jsx("input",{type:"text",maxLength:100,className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-1",value:i.name,onChange:m=>o({...i,name:m.target.value}),placeholder:"Name",required:!0})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{children:"Description"}),e.jsx("input",{type:"text",className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-1",value:i.description,onChange:m=>o({...i,description:m.target.value}),placeholder:"Description"})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{children:"Upload Image"}),e.jsx("input",{type:"file",onChange:m=>l(m.target.files[0]),className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-1"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Add"}),e.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",onClick:v,children:"Clear"})]})]})})]})})})})})})]})]})})},Xt=({FetchData:t,Data:a})=>{const[r,s]=c.useState(!1),[l,i]=c.useState({file:null,previewURL:null}),[o,n]=c.useState(a?.name||""),{token:d}=H(f=>f.auth),{UpdateCategoryAPI:u,GetCategoriesAPI:p}=_(),v=f=>{i({file:f,previewURL:URL.createObjectURL(f)})},x=async f=>{f.preventDefault(),o&&d&&a?._id?(await u({id:a._id,category:o,image:l?.file,token:d}),n(""),i(null),await p({token:d}),s(!1),t()):te.error("Please fill")};return e.jsx("div",{className:"EditCategory",children:e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>s(!0),className:"rounded-xl ml-auto block bg-indigo-600 px-4 py-2 font-semibold text-gray-200 hover:bg-indigo-500",children:"Edit"}),e.jsxs(ie,{open:r,onClose:s,className:"relative z-10",children:[e.jsx(le,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsx(q,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95",children:e.jsx("div",{className:"bg-white p-6 relative",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx(K,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Add Category"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 cursor-pointer",onClick:()=>s(!1),children:e.jsx(oe,{className:"text-[30px]"})}),e.jsxs("form",{className:"mt-2 w-full",onSubmit:x,children:[a?.image&&e.jsx("div",{children:e.jsx("img",{className:"rounded-2xl bg-gray-200 mb-3",src:`${ae}/image/200/${a?.image}`,alt:""})}),e.jsxs("div",{className:"flex flex-col gap-4 items-center justify-center w-full h-full",children:[l?.file&&e.jsx("div",{className:"flex justify-center flex-wrap gap-4",children:e.jsxs("div",{className:"w-[120px] bg-gray-200 rounded-xl p-2",children:[e.jsx("img",{className:"rounded-lg w-full h-[120px] object-cover",src:l?.previewURL,alt:""}),e.jsx("div",{className:"text-[12px] mt-2",children:l?.file?.name.slice(0,13)}),e.jsxs("div",{className:"text-[10px] text-gray-600 mt-[2px]",children:[(l?.file?.size/(1024*1024)).toFixed(2)," kb"]}),e.jsx("button",{type:"button",className:"text-center bg-red-200 text-red-500 w-full py-1 mt-2 rounded-lg",children:"Remove"})]})}),e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center text-center justify-center w-full h-full p-4 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Ae,{className:"w-8 h-8 mb-4 text-gray-500"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium mb-2",children:"Update new image"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG (MAX. 1000x1000px)"})]}),e.jsx("input",{onChange:f=>v(f.target.files[0]),id:"dropzone-file",type:"file",className:"hidden"})]})]}),e.jsxs("div",{className:"mt-4 grid gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",maxLength:100,className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-2",value:o||a?.name,onChange:f=>n(f.target.value),placeholder:"Name",required:!0})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Update Category"}),e.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",children:"Clear"})]})]})]})]})})})})})})]})]})})},aa=()=>{const{token:t}=H(n=>n.auth),{Categories:a,GetCategoriesAPI:r,DeleteCategoryAPI:s}=_();mt(async()=>{t&&await r({token:t})});const l=async()=>{t&&await r({token:t})},i=async n=>{n.preventDefault(),t&&(n.target.classList.add("animate-spin","duration-500"),setTimeout(()=>{n.target.classList.remove("animate-spin","duration-500")},3e3),await r({token:t}))},o=async({id:n})=>{if(window.confirm("Are you sure to delete this category?"))await s({id:n,token:t});else return;await r({token:t})};return e.jsx("div",{className:"Category",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h1",{className:"section-header text-[1.3rem] font-semibold flex items-center gap-2",children:["Category ",e.jsx(qt,{onClick:i,className:"cursor-pointer transition-all text-[25px] text-blue-600"})]}),e.jsx(Kt,{FetchData:l})]}),e.jsx("div",{className:"mt-3 rounded-xl overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{scope:"col",className:"py-3 px-6 text-start ",children:"Name"}),e.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Sub-Category"}),e.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Products"}),e.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Action"})]})}),e.jsx("tbody",{className:"bg-gray-100",children:a?.map((n,d)=>e.jsxs("tr",{className:"mx-4",children:[e.jsx("td",{scope:"row",className:"py-2 px-6 text-start",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{className:"rounded-md bg-gray-300 w-[40px] h-[40px] object-cover object-center",src:`${ae}/image/200/${n?.image}`,alt:""}),e.jsx("p",{className:"",children:n?.name})]})}),e.jsx("td",{className:"py-3 px-6 text-center",children:n?.subcategoryCount}),e.jsx("td",{className:"py-3 px-6 text-center",children:n?.productCount||0}),e.jsxs("td",{className:"py-3 px-6 text-center flex gap-2 justify-center",children:[e.jsx("div",{children:e.jsx(Jt,{Item:n})}),e.jsx(Xt,{FetchData:l,Data:n}),e.jsx("button",{onClick:()=>o({id:n?._id}),className:"px-4 py-1 bg-red-200 text-center text-red-700 rounded-lg",children:"Delete"})]})]},d))})]})})]})})};export{aa as default};
