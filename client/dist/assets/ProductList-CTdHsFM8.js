import{r as p,u as m,K as u,j as e,A as h,L as j}from"./index-D5CrZEbk.js";import{u as g}from"./useProductAPI-qHiKdUQD.js";const y=({text:s,limit:a=25})=>{const c=s.length>a?s.substring(0,a)+"...":s;return e.jsx("p",{children:c})},f=()=>{const[s,a]=p.useState({page:1,limit:20}),{token:c}=m(t=>t.auth),{ProductList:l,GetProductListAPI:r,DeleteProductAPI:n}=g();u(async()=>{c&&await r({token:c,page:s.page,limit:s.limit})});const d=async({id:t})=>{if(window.confirm("Are you sure to delete this product?"))await n({id:t,token:c});else return;await r({token:c})};return e.jsx("div",{className:"ProductList p-4 rounded-xl",children:e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"font-semibold text-xl",children:"Product List"}),e.jsx("div",{className:"rounded-xl overflow-x-auto mt-3",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{scope:"col",className:"py-3 px-6 text-start ",children:"Name"}),e.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Category"}),e.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"SubCategory"}),e.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Action"})]})}),e.jsx("tbody",{className:"bg-gray-100",children:l?.Products?.map((t,i)=>e.jsxs("tr",{className:"mx-4",children:[e.jsx("td",{scope:"row",className:"py-2 px-6 text-start",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{className:"rounded-md w-[40px] h-[40px] object-cover object-center",src:`${h}/image/100/${t?.images[0]}`,alt:""}),e.jsx("div",{className:"",children:e.jsx(y,{text:t?.name,limit:40})})]})}),e.jsx("td",{className:"py-3 px-6 text-center",children:t?.category?.name}),e.jsx("td",{className:"py-3 px-6 text-center",children:t?.subcategory?.map((o,x)=>e.jsx("span",{className:"inline-block bg-gray-300 text-gray-800 text-xs px-3 py-1 rounded-full mr-1",children:o?.name},x))}),e.jsxs("td",{className:"py-3 px-6 text-center flex gap-2 justify-center",children:[e.jsx(j,{to:`/my-admin/edit-product/${t?._id}`,className:"px-4 py-1 bg-blue-700 text-center text-white rounded-lg",children:"Edit"}),e.jsx("button",{onClick:()=>d({id:t._id}),className:"px-4 py-1 bg-red-200 text-center text-red-700 rounded-lg",children:"Delete"})]})]},i))})]})})]})})};export{f as default};
