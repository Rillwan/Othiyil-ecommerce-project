import{r as g,a0 as n,A as u,Q as s}from"./index-OXO4aT_R.js";const V=()=>{const[l,p]=g.useState([]),[y,m]=g.useState(""),[h,d]=g.useState({upload:!1,value:0}),[f,A]=g.useState({}),[P,$]=g.useState([]);return{CreateCategoryAPI:async({category:t,image:e,token:a})=>{try{if(!t||!a)return;const c=new FormData;c.append("category",t),c.append("image",e),await n.post(`${u}/v1/category/create`,c,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}}).then(r=>{r?.data?.success&&s.success(r?.data?.message)}).catch(r=>{r.response?s.error(r?.response?.data?.message):s.error(r?.message)})}catch(c){console.error(c)}},Categories:l,setCategories:p,GetCategoriesAPI:async({token:t})=>{try{if(!t)return;await n.get(`${u}/v1/category/admin/categories`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e?.data?.success&&p(e?.data?.result)}).catch(e=>{e.response?s.error(e?.response?.data?.message):s.error(e?.message)})}catch(e){console.error(e)}},CreateSubCategoryAPI:async({categoryId:t,token:e,Image:a,name:c,description:r})=>{try{if(!c||!t||!e)return;const o=new FormData;o.append("name",c),o.append("description",r),o.append("image",a),await n.post(`${u}/v1/category/create-subcategory/${t}`,o,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}}).then(i=>{i?.data?.success&&s.success(i?.data?.message)}).catch(i=>{i.response?s.error(i?.response?.data?.message):s.error(i?.message)})}catch(o){console.error(o)}},DeleteCategoryAPI:async({id:t,token:e})=>{try{if(!t||!e)return;await n.delete(`${u}/v1/category/delete/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(a=>{a?.data?.success&&s.success(a?.data?.message)}).catch(a=>{a.response?s.error(a?.response?.data?.message):s.error(a?.message)})}catch(a){console.error(a)}},DeleteSubCategoryAPI:async({id:t,token:e})=>{try{if(!t||!e)return;await n.delete(`${u}/v1/category/delete/sub-category/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(a=>{a?.data?.success&&s.success(a?.data?.message)}).catch(a=>{a.response?s.error(a?.response?.data?.message):s.error(a?.message)})}catch(a){console.error(a)}},UpdateCategoryAPI:async({id:t,category:e,image:a,token:c})=>{try{if(!t||!e||!c)return;const r=new FormData;r.append("category",e),r.append("image",a),await n.put(`${u}/v1/category/update/${t}`,r,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"multipart/form-data"}}).then(o=>{o?.data?.success&&s.success(o?.data?.message)}).catch(o=>{o.response?s.error(o?.response?.data?.message):s.error(o?.message)})}catch(r){console.error(r)}},UpdateSubCategoryAPI:async({id:t,subcategory:e,image:a,token:c})=>{try{if(d({upload:!0,value:0}),!t||!e||!c)return;const r=new FormData;r.append("subcategory",e),r.append("image",a),await n.put(`${u}/v1/category/update-subcategory/${t}`,r,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"multipart/form-data"},onUploadProgress:o=>{const i=Math.round(o.loaded*100/o.total);d({upload:!0,value:i})}}).then(o=>{o?.data?.success&&s.success(o?.data?.message)}).catch(o=>{o.response?s.error(o?.response?.data?.message):s.error(o?.message)})}catch(r){console.error(r)}d({upload:!1,value:0})},UpdateActiveSubcategoryAPI:async({id:t,token:e,active:a})=>{try{if(!t&&!e&&a)return;const c=new FormData;c.append("active",a),await n.put(`${u}/v1/category/active/subcategory/${t}`,c,{headers:{Authorization:`Bearer ${e}`}}).then(r=>{r?.data?.success&&s.success(r?.data?.message)}).catch(r=>{r.response?s.error(r?.response?.data?.message):s.error(r?.message)})}catch(c){console.error(c)}},UploadVideoAPI:async({video:t,token:e,id:a})=>{d({upload:!0,value:0});try{if(!t||!e||!a)return;const c=new FormData;c.append("video",t),await n.put(`${u}/v1/category/admin/subcategory/upload-video/${a}`,c,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"},onUploadProgress:r=>{const o=Math.round(r.loaded*100/r.total);d({upload:!0,value:o})}}).then(r=>{r?.data?.success&&s.success(r?.data?.message)}).catch(r=>{r.response?s.error(r?.response?.data?.message):s.error(r?.message)})}catch(c){console.error(c)}d({upload:!1,value:0})},SubCategoryName:y,GetSubCategoryNameAPI:async({token:t,id:e})=>{try{if(!t||!e)return;await n.get(`${u}/v1/category/admin/subcategory/name/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{a?.data?.success&&m(a?.data?.result)}).catch(a=>{a.response?s.error(a?.response?.data?.message):s.error(a?.message)})}catch(a){console.error(a)}},Progress:h,DeleteVideoAPI:async({token:t,id:e})=>{try{if(!e||!t)return;await n.delete(`${u}/v1/category/delete-video-by-subcategory/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{a?.data?.success&&s.success(a?.data?.message)}).catch(a=>{a.response?s.error(a?.response?.data?.message):s.error(a?.message)})}catch(a){console.error(a)}},GetPageSetupDataAPI:async({token:t})=>{try{if(!t)return;await n.get(`${u}/v1/page-setup/data`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e?.data?.success&&A(e?.data?.result)}).catch(e=>{e.response?s.error(e?.response?.data?.message):s.error(e?.message)})}catch(e){console.error(e)}},PageSetupData:f,subcategories:P,GetSubCategoriesAPI:async({token:t})=>{try{if(!t)return;await n.get(`${u}/v1/category/admin/subcategories`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>{e?.data?.success&&$(e?.data?.result)}).catch(e=>{e.response?s.error(e?.response?.data?.message):s.error(e?.message)})}catch(e){console.error(e)}}}};export{V as u};
