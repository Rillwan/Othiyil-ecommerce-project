import{r as m,N as u,u as x,K as p,j as e,A as h,Q as g}from"./index-d69wPcmL.js";import{u as b}from"./useCategoryAPI-Dhdq6Pa4.js";const v=()=>{const[r,i]=m.useState(""),a=u(),{token:l}=x(s=>s.auth),{UploadVideoAPI:o,GetSubCategoryNameAPI:n,SubCategoryName:t,Progress:d}=b();p(async()=>{l&&a?.id&&await n({token:l,id:a.id})});const c=async s=>{s.preventDefault(),r&&l&&a?.id?(await o({video:r,token:l,id:a.id}),window.location.reload()):g.error("Please fill")};return e.jsxs("div",{className:"upload-video-page",children:[e.jsx("h2",{className:"text-[1.3rem] font-semibold",children:"Upload Video"}),e.jsxs("h3",{className:"text-base font-medium ml-4 mt-2 flex gap-2 items-center",children:["Category / ",e.jsx("span",{className:"",children:t?.name})]}),t?.video?e.jsxs("div",{className:"mt-4 ml-4",children:[e.jsx("h3",{className:"mb-2",children:"Already Uploaded Video"}),e.jsxs("video",{width:"500",controls:!0,children:[e.jsx("source",{src:`${h}/image/video/:100/${t?.video}`,type:"video/mp4"}),"Your browser does not support HTML video."]})]}):e.jsx("div",{children:e.jsxs("form",{className:"mt-2 w-full max-w-[400px] ml-4",onSubmit:c,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx("div",{className:"",children:e.jsx("input",{type:"file",className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-2",onChange:s=>i(s.target.files[0]),placeholder:"Name",required:!0})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Upload Video"}),e.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",children:"Clear"})]})]}),d?.upload&&e.jsx("div",{className:"p-6 pb-2 w-full",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full dark:bg-gray-700",children:e.jsxs("div",{className:"bg-green-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full transition-all",style:{width:`${d?.value}%`},children:[d?.value,"%"]})})})]})})]})};export{v as default};
