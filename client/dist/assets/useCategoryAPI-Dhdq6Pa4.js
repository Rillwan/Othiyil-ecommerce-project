import{r as d,Y as n,A as i,Q as s}from"./index-d69wPcmL.js";const F=()=>{const[m,p]=d.useState([]),[y,l]=d.useState(""),[h,g]=d.useState({upload:!1,value:0});return{CreateCategoryAPI:async({category:r,image:a,token:e})=>{try{if(!r||!e)return;const o=new FormData;o.append("category",r),o.append("image",a),await n.post(`${i}/v1/category/create`,o,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}}).then(t=>{t?.data?.success&&s.success(t?.data?.message)}).catch(t=>{t.response?s.error(t?.response?.data?.message):s.error(t?.message)})}catch(o){console.error(o)}},Categories:m,setCategories:p,GetCategoriesAPI:async({token:r})=>{try{if(!r)return;await n.get(`${i}/v1/category/admin/categories`,{headers:{Authorization:`Bearer ${r}`}}).then(a=>{a?.data?.success&&p(a?.data?.result)}).catch(a=>{a.response?s.error(a?.response?.data?.message):s.error(a?.message)})}catch(a){console.error(a)}},CreateSubCategoryAPI:async({categoryId:r,token:a,Image:e,name:o,description:t})=>{try{if(!o||!r||!a)return;const c=new FormData;c.append("name",o),c.append("description",t),c.append("image",e),await n.post(`${i}/v1/category/create-subcategory/${r}`,c,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}}).then(u=>{u?.data?.success&&s.success(u?.data?.message)}).catch(u=>{u.response?s.error(u?.response?.data?.message):s.error(u?.message)})}catch(c){console.error(c)}},DeleteCategoryAPI:async({id:r,token:a})=>{try{if(!r||!a)return;await n.delete(`${i}/v1/category/delete/${r}`,{headers:{Authorization:`Bearer ${a}`}}).then(e=>{e?.data?.success&&s.success(e?.data?.message)}).catch(e=>{e.response?s.error(e?.response?.data?.message):s.error(e?.message)})}catch(e){console.error(e)}},DeleteSubCategoryAPI:async({id:r,token:a})=>{try{if(!r||!a)return;await n.delete(`${i}/v1/category/delete/sub-category/${r}`,{headers:{Authorization:`Bearer ${a}`}}).then(e=>{e?.data?.success&&s.success(e?.data?.message)}).catch(e=>{e.response?s.error(e?.response?.data?.message):s.error(e?.message)})}catch(e){console.error(e)}},UpdateCategoryAPI:async({id:r,category:a,image:e,token:o})=>{try{if(!r||!a||!o)return;const t=new FormData;t.append("category",a),t.append("image",e),await n.put(`${i}/v1/category/update/${r}`,t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}).then(c=>{c?.data?.success&&s.success(c?.data?.message)}).catch(c=>{c.response?s.error(c?.response?.data?.message):s.error(c?.message)})}catch(t){console.error(t)}},UpdateActiveCategoryAPI:async({id:r,token:a,active:e})=>{try{if(!r&&!a&&e)return;const o=new FormData;o.append("active",e),await n.put(`${i}/v1/category/active/${r}`,o,{headers:{Authorization:`Bearer ${a}`}}).then(t=>{t?.data?.success&&s.success(t?.data?.message)}).catch(t=>{t.response?s.error(t?.response?.data?.message):s.error(t?.message)})}catch(o){console.error(o)}},UploadVideoAPI:async({video:r,token:a,id:e})=>{g({upload:!0,value:0});try{if(!r||!a||!e)return;const o=new FormData;o.append("video",r),await n.put(`${i}/v1/category/admin/subcategory/upload-video/${e}`,o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"},onUploadProgress:t=>{const c=Math.round(t.loaded*100/t.total);g({upload:!0,value:c})}}).then(t=>{t?.data?.success&&s.success(t?.data?.message)}).catch(t=>{t.response?s.error(t?.response?.data?.message):s.error(t?.message)})}catch(o){console.error(o)}g({upload:!1,value:0})},SubCategoryName:y,GetSubCategoryNameAPI:async({token:r,id:a})=>{try{if(!r||!a)return;await n.get(`${i}/v1/category/admin/subcategory/name/${a}`,{headers:{Authorization:`Bearer ${r}`}}).then(e=>{e?.data?.success&&l(e?.data?.result)}).catch(e=>{e.response?s.error(e?.response?.data?.message):s.error(e?.message)})}catch(e){console.error(e)}},Progress:h}};export{F as u};
