import{r as d,Z as A,_ as O,$ as V,a0 as U,a1 as P,a2 as N,R as x,a3 as G,a4 as Ve,a5 as Ge,a6 as Q,a7 as He,a8 as Ne,a9 as _e,aa as Ce,ab as Ee,ac as Ye,ad as B,ae as W,af as z,ag as L,ah as $,ai as qe,aj as fe,ak as xe,al as Ke,am as $e,an as C,ao as Ze,ap as ke,aq as Je,ar as ge,as as Se,at as Fe,au as he,av as Qe,aw as M,ax as We,ay as Xe,az as et,aA as tt,aB as at,aC as rt,aD as nt,aE as st,aF as lt,aG as ve,aH as it,aI as ot,aJ as ct,aK as ye,G as ee,u as H,j as t,Q as te,A as ae,L as dt,K as ut}from"./index-d69wPcmL.js";import{u as _}from"./useCategoryAPI-Dhdq6Pa4.js";import{A as mt}from"./index-xA_kNDxT.js";import{B as pt}from"./index-DM_SltYL.js";let ft=d.createContext(void 0);function xt(){return d.useContext(ft)}let re=d.createContext(null);re.displayName="DescriptionContext";function Ae(){let e=d.useContext(re);if(e===null){let a=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,Ae),a}return e}function gt(){let[e,a]=d.useState([]);return[e.length>0?e.join(" "):void 0,d.useMemo(()=>function(r){let n=N(c=>(a(i=>[...i,c]),()=>a(i=>{let o=i.slice(),l=o.indexOf(c);return l!==-1&&o.splice(l,1),o}))),s=d.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return x.createElement(re.Provider,{value:s},r.children)},[a])]}let ht="p";function vt(e,a){let r=d.useId(),n=xt(),{id:s=`headlessui-description-${r}`,...c}=e,i=Ae(),o=O(a);V(()=>i.register(s),[s,i.register]);let l=U({...i.slot,disabled:n||!1}),u={ref:o,...i.props,id:s};return P()({ourProps:u,theirProps:c,slot:l,defaultTag:ht,name:i.name||"Description"})}let yt=A(vt),bt=Object.assign(yt,{}),X=new Map,T=new Map;function be(e){var a;let r=(a=T.get(e))!=null?a:0;return T.set(e,r+1),r!==0?()=>je(e):(X.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>je(e))}function je(e){var a;let r=(a=T.get(e))!=null?a:1;if(r===1?T.delete(e):T.set(e,r-1),r!==1)return;let n=X.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,X.delete(e))}function jt(e,{allowed:a,disallowed:r}={}){let n=G(e,"inert-others");V(()=>{var s,c;if(!n)return;let i=Ve();for(let l of(s=r?.())!=null?s:[])l&&i.add(be(l));let o=(c=a?.())!=null?c:[];for(let l of o){if(!l)continue;let u=Ge(l);if(!u)continue;let m=l.parentElement;for(;m&&m!==u.body;){for(let g of m.children)o.some(v=>g.contains(v))||i.add(be(g));m=m.parentElement}}return i.dispose},[n,a,r])}function ne(e,a){let r=d.useRef([]),n=N(e);d.useEffect(()=>{let s=[...r.current];for(let[c,i]of a.entries())if(r.current[c]!==i){let o=n(a,s);return r.current=a,o}},[n,...a])}function wt(e){function a(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",a))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",a),a())}let k=[];wt(()=>{function e(a){if(!Q(a.target)||a.target===document.body||k[0]===a.target)return;let r=a.target;r=r.closest(He),k.unshift(r??a.target),k=k.filter(n=>n!=null&&n.isConnected),k.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Nt(e,a=typeof document<"u"?document.defaultView:null,r){let n=G(e,"escape");Ne(a,"keydown",s=>{n&&(s.defaultPrevented||s.key===_e.Escape&&r(s))})}function Ct(){var e;let[a]=d.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=d.useState((e=a?.matches)!=null?e:!1);return V(()=>{if(!a)return;function s(c){n(c.matches)}return a.addEventListener("change",s),()=>a.removeEventListener("change",s)},[a]),r}function De(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let a=new Set;for(let r of e.current)Ze(r.current)&&a.add(r.current);return a}let Et="div";var F=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(F||{});function $t(e,a){let r=d.useRef(null),n=O(r,a),{initialFocus:s,initialFocusFallback:c,containers:i,features:o=15,...l}=e;Ce()||(o=0);let u=Ee(r.current);At(o,{ownerDocument:u});let m=Dt(o,{ownerDocument:u,container:r,initialFocus:s,initialFocusFallback:c});It(o,{ownerDocument:u,container:r,containers:i,previousActiveElement:m});let g=Ye(),v=N(y=>{if(!B(r.current))return;let S=r.current;(j=>j())(()=>{W(g.current,{[z.Forwards]:()=>{L(S,$.First,{skipElements:[y.relatedTarget,c]})},[z.Backwards]:()=>{L(S,$.Last,{skipElements:[y.relatedTarget,c]})}})})}),f=G(!!(o&2),"focus-trap#tab-lock"),b=qe(),p=d.useRef(!1),w={ref:n,onKeyDown(y){y.key=="Tab"&&(p.current=!0,b.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){if(!(o&4))return;let S=De(i);B(r.current)&&S.add(r.current);let j=y.relatedTarget;Q(j)&&j.dataset.headlessuiFocusGuard!=="true"&&(Ie(S,j)||(p.current?L(r.current,W(g.current,{[z.Forwards]:()=>$.Next,[z.Backwards]:()=>$.Previous})|$.WrapAround,{relativeTo:y.target}):Q(y.target)&&C(y.target)))}},E=P();return x.createElement(x.Fragment,null,f&&x.createElement(fe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:xe.Focusable}),E({ourProps:w,theirProps:l,defaultTag:Et,name:"FocusTrap"}),f&&x.createElement(fe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:xe.Focusable}))}let kt=A($t),St=Object.assign(kt,{features:F});function Ft(e=!0){let a=d.useRef(k.slice());return ne(([r],[n])=>{n===!0&&r===!1&&ke(()=>{a.current.splice(0)}),n===!1&&r===!0&&(a.current=k.slice())},[e,k,a]),N(()=>{var r;return(r=a.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function At(e,{ownerDocument:a}){let r=!!(e&8),n=Ft(r);ne(()=>{r||Je(a?.body)&&C(n())},[r]),Ke(()=>{r&&C(n())})}function Dt(e,{ownerDocument:a,container:r,initialFocus:n,initialFocusFallback:s}){let c=d.useRef(null),i=G(!!(e&1),"focus-trap#initial-focus"),o=$e();return ne(()=>{if(e===0)return;if(!i){s!=null&&s.current&&C(s.current);return}let l=r.current;l&&ke(()=>{if(!o.current)return;let u=a?.activeElement;if(n!=null&&n.current){if(n?.current===u){c.current=u;return}}else if(l.contains(u)){c.current=u;return}if(n!=null&&n.current)C(n.current);else{if(e&16){if(L(l,$.First|$.AutoFocus)!==ge.Error)return}else if(L(l,$.First)!==ge.Error)return;if(s!=null&&s.current&&(C(s.current),a?.activeElement===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}c.current=a?.activeElement})},[s,i,e]),c}function It(e,{ownerDocument:a,container:r,containers:n,previousActiveElement:s}){let c=$e(),i=!!(e&4);Ne(a?.defaultView,"focus",o=>{if(!i||!c.current)return;let l=De(n);B(r.current)&&l.add(r.current);let u=s.current;if(!u)return;let m=o.target;B(m)?Ie(l,m)?(s.current=m,C(m)):(o.preventDefault(),o.stopPropagation(),C(u)):C(s.current)},!0)}function Ie(e,a){for(let r of e)if(r.contains(a))return!0;return!1}var Pt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pt||{}),Rt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Rt||{});let Lt={0(e,a){return e.titleId===a.id?e:{...e,titleId:a.id}}},se=d.createContext(null);se.displayName="DialogContext";function Y(e){let a=d.useContext(se);if(a===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Y),r}return a}function Tt(e,a){return W(a.type,Lt,e,a)}let we=A(function(e,a){let r=d.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:c,initialFocus:i,role:o="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:m=!1,...g}=e,v=d.useRef(!1);o=(function(){return o==="dialog"||o==="alertdialog"?o:(v.current||(v.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let f=Fe();s===void 0&&f!==null&&(s=(f&M.Open)===M.Open);let b=d.useRef(null),p=O(b,a),w=Ee(b.current),E=s?0:1,[y,S]=d.useReducer(Tt,{titleId:null,descriptionId:null,panelRef:d.createRef()}),j=N(()=>c(!1)),ce=N(h=>S({type:0,id:h})),D=Ce()?E===0:!1,[Pe,Re]=We(),Le={get current(){var h;return(h=y.panelRef.current)!=null?h:b.current}},Z=Xe(),{resolveContainers:J}=et({mainTreeNode:Z,portals:Pe,defaultContainers:[Le]}),de=f!==null?(f&M.Closing)===M.Closing:!1;jt(u||de?!1:D,{allowed:N(()=>{var h,pe;return[(pe=(h=b.current)==null?void 0:h.closest("[data-headlessui-portal]"))!=null?pe:null]}),disallowed:N(()=>{var h;return[(h=Z?.closest("body > *:not(#headlessui-portal-root)"))!=null?h:null]})});let I=tt.get(null);V(()=>{if(D)return I.actions.push(n),()=>I.actions.pop(n)},[I,n,D]);let ue=at(I,d.useCallback(h=>I.selectors.isTop(h,n),[I,n]));rt(ue,J,h=>{h.preventDefault(),j()}),Nt(ue,w?.defaultView,h=>{h.preventDefault(),h.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),nt(u||de?!1:D,w,J),st(D,b,j);let[Te,Oe]=gt(),Ue=d.useMemo(()=>[{dialogState:E,close:j,setTitleId:ce,unmount:m},y],[E,j,ce,m,y]),me=U({open:E===0}),ze={ref:p,id:n,role:o,tabIndex:-1,"aria-modal":u?void 0:E===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":Te,unmount:m},Me=!Ct(),R=F.None;D&&!u&&(R|=F.RestoreFocus,R|=F.TabLock,l&&(R|=F.AutoFocus),Me&&(R|=F.InitialFocus));let Be=P();return x.createElement(lt,null,x.createElement(ve,{force:!0},x.createElement(it,null,x.createElement(se.Provider,{value:Ue},x.createElement(ot,{target:b},x.createElement(ve,{force:!1},x.createElement(Oe,{slot:me},x.createElement(Re,null,x.createElement(St,{initialFocus:i,initialFocusFallback:b,containers:J,features:R},x.createElement(ct,{value:j},Be({ourProps:ze,theirProps:g,slot:me,defaultTag:Ot,features:Ut,visible:E===0,name:"Dialog"})))))))))))}),Ot="div",Ut=ye.RenderStrategy|ye.Static;function zt(e,a){let{transition:r=!1,open:n,...s}=e,c=Fe(),i=e.hasOwnProperty("open")||c!==null,o=e.hasOwnProperty("onClose");if(!i&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!i)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!c&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?x.createElement(he,null,x.createElement(Qe,{show:n,transition:r,unmount:s.unmount},x.createElement(we,{ref:a,...s}))):x.createElement(he,null,x.createElement(we,{ref:a,open:n,...s}))}let Mt="div";function Bt(e,a){let r=d.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...c}=e,[{dialogState:i,unmount:o},l]=Y("Dialog.Panel"),u=O(a,l.panelRef),m=U({open:i===0}),g=N(w=>{w.stopPropagation()}),v={ref:u,id:n,onClick:g},f=s?Se:d.Fragment,b=s?{unmount:o}:{},p=P();return x.createElement(f,{...b},p({ourProps:v,theirProps:c,slot:m,defaultTag:Mt,name:"Dialog.Panel"}))}let Vt="div";function Gt(e,a){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:c}]=Y("Dialog.Backdrop"),i=U({open:s===0}),o={ref:a,"aria-hidden":!0},l=r?Se:d.Fragment,u=r?{unmount:c}:{},m=P();return x.createElement(l,{...u},m({ourProps:o,theirProps:n,slot:i,defaultTag:Vt,name:"Dialog.Backdrop"}))}let Ht="h2";function _t(e,a){let r=d.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:c,setTitleId:i}]=Y("Dialog.Title"),o=O(a);d.useEffect(()=>(i(n),()=>i(null)),[n,i]);let l=U({open:c===0}),u={ref:o,id:n};return P()({ourProps:u,theirProps:s,slot:l,defaultTag:Ht,name:"Dialog.Title"})}let Yt=A(zt),q=A(Bt),le=A(Gt),K=A(_t),ie=Object.assign(Yt,{Panel:q,Title:K,Description:bt});function oe(e){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function qt(e){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm120 182.15a8.62 8.62 0 0 1-8.62 8.62h-59.54a8.61 8.61 0 0 1-6.09-14.71l22.17-22.17-5.6-6.51a87.38 87.38 0 1 0-62.94 148 87.55 87.55 0 0 0 82.42-58.25A16 16 0 1 1 368 295.8a119.4 119.4 0 1 1-112.62-159.18 118.34 118.34 0 0 1 86.36 36.95l.56.62 4.31 5 14.68-14.68a8.44 8.44 0 0 1 6-2.54 8.61 8.61 0 0 1 8.68 8.63z"},child:[]}]})(e)}const Kt=({FetchData:e})=>{const[a,r]=d.useState(!1),[n,s]=d.useState({file:null,previewURL:null}),[c,i]=d.useState(""),{token:o}=H(g=>g.auth),{CreateCategoryAPI:l,GetCategoriesAPI:u}=_(),m=async g=>{g.preventDefault(),c&&o?(await l({category:c,image:n?.file,token:o}),i(""),s(null),await u({token:o}),r(!1),e()):te.error("Please fill")};return t.jsx("div",{className:"AddCategory",children:t.jsxs("div",{className:"",children:[t.jsx("button",{onClick:()=>r(!0),className:"rounded-xl ml-auto block bg-black px-6 py-2 font-semibold text-gray-200 hover:bg-gray-800",children:"Add Category"}),t.jsxs(ie,{open:a,onClose:r,className:"relative z-10",children:[t.jsx(le,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:t.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:t.jsx(q,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95",children:t.jsx("div",{className:"bg-white p-6 relative",children:t.jsx("div",{className:"",children:t.jsxs("div",{className:"",children:[t.jsx(K,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Add Category"}),t.jsx("div",{className:"absolute top-0 right-0 p-4 cursor-pointer",onClick:()=>r(!1),children:t.jsx(oe,{className:"text-[30px]"})}),t.jsx("form",{className:"mt-2 w-full",onSubmit:m,children:t.jsxs("div",{className:"mt-4 grid gap-4",children:[t.jsxs("div",{className:"",children:[t.jsx("label",{children:"Category Name"}),t.jsx("input",{type:"text",maxLength:100,className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-2",value:c,onChange:g=>i(g.target.value),placeholder:"Name",required:!0})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Create Category"}),t.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",children:"Clear"})]})]})})]})})})})})})]})]})})};function Zt(e){return ee({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Video_On"},child:[{tag:"path",attr:{d:"M21.05,5.05a1.433,1.433,0,0,0-1.48.08L16.25,7.37V6.56a2.5,2.5,0,0,0-2.5-2.5H4.69a2.5,2.5,0,0,0-2.5,2.5V17.44a2.5,2.5,0,0,0,2.5,2.5h9.06a2.5,2.5,0,0,0,2.5-2.5v-.81l3.32,2.24a1.5,1.5,0,0,0,.81.24,1.414,1.414,0,0,0,1.43-1.43V6.32A1.437,1.437,0,0,0,21.05,5.05Zm-5.8,12.39a1.5,1.5,0,0,1-1.5,1.5H4.69a1.5,1.5,0,0,1-1.5-1.5V6.56a1.5,1.5,0,0,1,1.5-1.5h9.06a1.5,1.5,0,0,1,1.5,1.5Zm5.56.24a.415.415,0,0,1-.23.38.425.425,0,0,1-.45-.02l-3.88-2.62V8.58l3.88-2.62a.425.425,0,0,1,.45-.02.415.415,0,0,1,.23.38Z"},child:[]}]}]})(e)}const Jt=({Item:e,Refresh:a})=>{const[r,n]=d.useState(!1),[s,c]=d.useState(""),[i,o]=d.useState({name:"",description:""}),{token:l}=H(p=>p.auth),{CreateSubCategoryAPI:u,GetCategoriesAPI:m,DeleteSubCategoryAPI:g}=_(),v=()=>{o(""),c({file:null,previewURL:null})},f=async p=>{p.preventDefault(),i&&l?(await u({name:i.name,description:i.description,categoryId:e?._id,token:l,Image:s}),o(""),c({file:null,previewURL:null}),a(l)):te.error("Please fill")},b=async({id:p})=>{if(window.confirm("Are you sure to delete this sub-category?"))await g({id:p,token:l}),a(l);else return;await m({token:l})};return t.jsx("div",{className:"AddCategory",children:t.jsxs("div",{className:"",children:[t.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-green-700 text-center text-white rounded-lg hover:bg-green-500",children:"Add Sub-Category"}),t.jsxs(ie,{open:r,onClose:n,className:"relative z-10",children:[t.jsx(le,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:t.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:t.jsx(q,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95",children:t.jsx("div",{className:"bg-white p-6 relative",children:t.jsx("div",{className:"",children:t.jsxs("div",{className:"",children:[t.jsx(K,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Sub-Categories"}),t.jsx("div",{className:"absolute top-0 right-0 p-4 cursor-pointer",onClick:()=>n(!1),children:t.jsx(oe,{className:"text-[30px]"})}),t.jsx("div",{className:"mt-1 px-3",children:t.jsx("ul",{className:"text-gray-800 grid gap-1",children:e?.subcategories?.map((p,w)=>t.jsx("li",{className:"py-2 px-4 rounded-md bg-gray-200 ",children:t.jsxs("div",{className:"flex gap-3 items-center",children:[t.jsx("p",{className:"font-medium",children:w+1}),t.jsx("img",{className:"bg-gray-300 w-[35px] h-[35px] object-cover object-center rounded-md",src:`${ae}/image/200/${p?.image}`,alt:""}),t.jsx("p",{className:"",children:p?.name}),t.jsxs("div",{className:"ml-auto cursor-pointer  flex gap-2 items-center",children:[t.jsxs(dt,{to:`/my-admin/category/subcategory/upload-video/${p?._id}`,className:"bg-indigo-500 text-white py-1 px-3 rounded-lg flex items-center gap-2",children:[t.jsx(Zt,{className:"text-[25px] "}),"Upload Video"]}),t.jsx(mt,{className:"text-[35px] text-red-500 bg-red-200 py-1 px-2 rounded-lg",onClick:()=>b({id:p?._id})})]})]})},w))})}),t.jsx("form",{className:"w-full mt-4",onSubmit:f,onReset:v,children:t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"",children:[t.jsx("label",{children:"Add New Sub-category"}),t.jsx("input",{type:"text",maxLength:100,className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-1",value:i.name,onChange:p=>o({...i,name:p.target.value}),placeholder:"Name",required:!0})]}),t.jsxs("div",{className:"",children:[t.jsx("label",{children:"Description"}),t.jsx("input",{type:"text",className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-1",value:i.description,onChange:p=>o({...i,description:p.target.value}),placeholder:"Description"})]}),t.jsxs("div",{className:"",children:[t.jsx("label",{children:"Upload Image"}),t.jsx("input",{type:"file",onChange:p=>c(p.target.files[0]),className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-1"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Add"}),t.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",onClick:v,children:"Clear"})]})]})})]})})})})})})]})]})})},Qt=({FetchData:e,Data:a})=>{const[r,n]=d.useState(!1),[s,c]=d.useState({file:null,previewURL:null}),[i,o]=d.useState(a?.name||""),{token:l}=H(f=>f.auth),{UpdateCategoryAPI:u,GetCategoriesAPI:m}=_(),g=f=>{c({file:f,previewURL:URL.createObjectURL(f)})},v=async f=>{f.preventDefault(),i&&l&&a?._id?(await u({id:a._id,category:i,image:s?.file,token:l}),o(""),c(null),await m({token:l}),n(!1),e()):te.error("Please fill")};return t.jsx("div",{className:"EditCategory",children:t.jsxs("div",{className:"",children:[t.jsx("button",{onClick:()=>n(!0),className:"rounded-xl ml-auto block bg-indigo-600 px-4 py-2 font-semibold text-gray-200 hover:bg-indigo-500",children:"Edit"}),t.jsxs(ie,{open:r,onClose:n,className:"relative z-10",children:[t.jsx(le,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),t.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:t.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:t.jsx(q,{transition:!0,className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95",children:t.jsx("div",{className:"bg-white p-6 relative",children:t.jsx("div",{className:"",children:t.jsxs("div",{className:"",children:[t.jsx(K,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Add Category"}),t.jsx("div",{className:"absolute top-0 right-0 p-4 cursor-pointer",onClick:()=>n(!1),children:t.jsx(oe,{className:"text-[30px]"})}),t.jsxs("form",{className:"mt-2 w-full",onSubmit:v,children:[a?.image&&t.jsx("div",{children:t.jsx("img",{className:"rounded-2xl bg-gray-200 mb-3",src:`${ae}/image/200/${a?.image}`,alt:""})}),t.jsxs("div",{className:"flex flex-col gap-4 items-center justify-center w-full h-full",children:[s?.file&&t.jsx("div",{className:"flex justify-center flex-wrap gap-4",children:t.jsxs("div",{className:"w-[120px] bg-gray-200 rounded-xl p-2",children:[t.jsx("img",{className:"rounded-lg w-full h-[120px] object-cover",src:s?.previewURL,alt:""}),t.jsx("div",{className:"text-[12px] mt-2",children:s?.file?.name.slice(0,13)}),t.jsxs("div",{className:"text-[10px] text-gray-600 mt-[2px]",children:[(s?.file?.size/(1024*1024)).toFixed(2)," kb"]}),t.jsx("button",{type:"button",className:"text-center bg-red-200 text-red-500 w-full py-1 mt-2 rounded-lg",children:"Remove"})]})}),t.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center text-center justify-center w-full h-full p-4 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-100",children:[t.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[t.jsx(pt,{className:"w-8 h-8 mb-4 text-gray-500"}),t.jsx("p",{className:"text-sm text-gray-500 font-medium mb-2",children:"Update new image"}),t.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[t.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG or JPG (MAX. 1000x1000px)"})]}),t.jsx("input",{onChange:f=>g(f.target.files[0]),id:"dropzone-file",type:"file",className:"hidden"})]})]}),t.jsxs("div",{className:"mt-4 grid gap-4",children:[t.jsxs("div",{className:"",children:[t.jsx("label",{children:"Category Name"}),t.jsx("input",{type:"text",maxLength:100,className:"px-4 py-2 rounded-xl bg-white  border border-gray-300 w-full mt-2",value:i||a?.name,onChange:f=>o(f.target.value),placeholder:"Name",required:!0})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{className:"btn bg-black text-white px-4 py-2 rounded-xl w-full",type:"submit",children:"Update Category"}),t.jsx("button",{className:"btn btn-danger px-4 py-2 rounded-xl bg-red-200 text-red-600",type:"reset",children:"Clear"})]})]})]})]})})})})})})]})]})})},aa=()=>{const{token:e}=H(l=>l.auth),{Categories:a,GetCategoriesAPI:r,DeleteCategoryAPI:n}=_();ut(async()=>{e&&await r({token:e})});const s=async()=>{e&&await r({token:e})},c=async l=>{l.preventDefault(),e&&(l.target.classList.add("animate-spin","duration-500"),setTimeout(()=>{l.target.classList.remove("animate-spin","duration-500")},3e3),await r({token:e}))},i=async({id:l})=>{if(window.confirm("Are you sure to delete this category?"))await n({id:l,token:e});else return;await r({token:e})},o=async l=>{l&&await r({token:l})};return t.jsx("div",{className:"Category",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("h1",{className:"section-header text-[1.3rem] font-semibold flex items-center gap-2",children:["Category ",t.jsx(qt,{onClick:c,className:"cursor-pointer transition-all text-[25px] text-blue-600"})]}),t.jsx(Kt,{FetchData:s})]}),t.jsx("div",{className:"mt-3 rounded-xl overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-200",children:[t.jsx("th",{scope:"col",className:"py-3 px-6 text-start ",children:"Name"}),t.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Sub-Category"}),t.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Products"}),t.jsx("th",{scope:"col",className:"py-3 px-6 text-center ",children:"Action"})]})}),t.jsx("tbody",{className:"bg-gray-100",children:a?.map((l,u)=>t.jsxs("tr",{className:"mx-4",children:[t.jsx("td",{scope:"row",className:"py-2 px-6 text-start",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{className:"rounded-md bg-gray-300 w-[40px] h-[40px] object-cover object-center",src:`${ae}/image/200/${l?.image}`,alt:""}),t.jsx("p",{className:"",children:l?.name})]})}),t.jsx("td",{className:"py-3 px-6 text-center",children:l?.subcategoryCount}),t.jsx("td",{className:"py-3 px-6 text-center",children:l?.productCount||0}),t.jsxs("td",{className:"py-3 px-6 text-center flex gap-2 justify-center",children:[t.jsx("div",{children:t.jsx(Jt,{Item:l,Refresh:o})}),t.jsx(Qt,{FetchData:s,Data:l}),t.jsx("button",{onClick:()=>i({id:l?._id}),className:"px-4 py-1 bg-red-200 text-center text-red-700 rounded-lg",children:"Delete"})]})]},u))})]})})]})})};export{aa as default};
